事先声明，这篇博文算不上完全原创。我也是参考其他人的博客才搭建起来的。感谢互联网的分享精神，帮助我解决了很多棘手的问题。予人玫瑰 手有余香，我也希望能贡献自己的一份力量，帮助其他更多的人。

2016年，谷歌也出了一个[云服务平台](https://cloud.google.com)。(不知道不翻墙能不能访问，我一直挂着vpn)。最近搞活动，免费赠送$300用12个月。具体申请流程参考[这里](http://51.ruyo.net/p/2144.html)（需要一个visa或者国际信用卡）

#谷歌云主机
说一下，我搭的过程中出现的问题：

1. 国家我选的韩国。本来想选日本，但是选完日本后无法获取我的信用卡信息（chrome浏览器记录了我的谷歌账号，我的账号之前绑定过信用卡），选韩国以后，能正常显示我的信用卡信息，所以选了韩国。（我在aws有一个日本的主机，本来搭这个vpn主要还是想看AbemaTV。因为AbemaTV只有日本的IP才能看，其他国家都看不了...）。在网上搜了一下韩国的地址和邮编（这个网上说可以随便填，我发现不行，因为地址和邮编不匹配的话，谷歌会不让提交表单）。
2. 端口一定要开放，不然之后的各种服务会访问不到
3. 最坑的一点，虽然我申请的是韩国地区，但是静态ip依然分配的是美国ip，这我就骂娘了。那我选地区有毛用啊，为了访问速度块？我要的是日本地区的ip啊。。。（有大神知道怎么获取非美国ip的请留言指点。。。）
4. 操作系统我选的是ubuntu16.10。因为这个系统装最新版docker-ce比较简单（我看官网文档用centos装docker好像有版本要求，而且还挺高，果断放弃）
5. 用xshell进行ssh远程连接的时候，记得开端口。（刚开始怎么也连不上，我以为不好使呢...）



#安装docker

这个比较简单，用ubuntu系统，按照官网一步一步装就行。如果镜像太慢的话，用daocloud的加速器比较好（自行百度吧）


#用docker装l2tp/PSK的VPN

这个主要是参考[这篇博客](http://blog.csdn.net/xindoo/article/details/52830609)。用docker搭主要还是方便，速度快、配置简单。因为之前在aws搭的只是一个pptp的vpn，结果iphone从IOS10以后，不支持pptp了（我又想骂娘了......）。所以才有写这篇博客的初衷。希望帮助那些升级了IOS10，又没有现成L2TP的VPN的人们。

这个搭建的难度不大，只要有搭docker的基础，应该很容易搭起来。

搭成功后，用IPHONE试了一下，可以用。用我的小米，用不了（百度了半天MIUI的VPN配置都未果，失败）。算了iphone能用就行，主要也是为iphone搭的。（win10的话需要在网上搜一下L2TP的搭建配置，和win7不一样，需要改一下注册表）


#Shadowsocks

尝试自己搭过VPN的话，应该都听过这个。这里我参考的是[这篇博文](https://my.oschina.net/lanni654321/blog/489459)。也很简单，一步一步安装搭建就可，中间没遇到什么坑，很顺利的大成功了。这里提一下。pc的客户端测试没问题，苹果我用的是wingy，也没问题。android我翻墙后在google play下的影梭，发现很卡，基本上算是连不上的状态，不好用。


可能没什么干货，干货都在我文章附上的链接了，大家可以一步一步试着搭一下，基本写的都很全。我是很顺利的都搭起来了，如果遇到问题，也不用慌，百度谷歌一下，基本都能找到解决方案。这里在一次感谢我引用的各位博主的精彩博文（叩首）




